machine:
  python:
    version: 2.7.5
  services:
    - docker

dependencies:
  pre:
    - pip install ansible\==2.1.6 ansible-lint
    - git clone https://github.com/tsukinowasha/ansible-lint-rules.git
    - docker build -t test_docker .

test:
  override:
    - ansible-lint -r ./ansible-lint-rules/rules -t module site.yml
    - ansible-playbook --syntax-check site.yml
    - ansible --version
    - echo Hello World
    - docker run -d test_docker

general:
  branches:
    ignore:
      - master
